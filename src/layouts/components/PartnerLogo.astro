---
import {
  UtnIcon,
  NerdConfIcon,
  FundIcon,
  LatinHackIcon,
} from '@components/icons';
import type { PartnerIconKey } from '@data/partnersConfig';

interface Props {
  iconKey: PartnerIconKey;
  alt: string;
  class?: string;
  href?: string;
  target?: string;
}

const {
  iconKey,
  alt,
  class: className = '',
  href,
  target = '_blank',
} = Astro.props;

const ICON_MAP: Record<PartnerIconKey, typeof UtnIcon> = {
  utn: UtnIcon,
  nerdconf: NerdConfIcon,
  fund: FundIcon,
  latinhack: LatinHackIcon,
};

const IconComponent = ICON_MAP[iconKey];
---

{
  href ? (
    <a
      href={href}
      target={target}
      rel={target === '_blank' ? 'noopener noreferrer' : undefined}
      class="flex items-center hover:opacity-80 transition-opacity"
      aria-label={alt}
    >
      <IconComponent className={`h-14 w-auto sm:h-20 md:h-24 ${className}`} />
    </a>
  ) : (
    <div class="flex items-center" aria-label={alt}>
      <IconComponent
        className={`h-16 w-auto sm:h-24 md:h-32 text-white ${className}`}
      />
    </div>
  )
}
